spring.application.name=api-gateway
server.port=${PORT:8080}

eureka.client.service-url.defaultZone=${EUREKA_CLIENT_SERVICEURL_DEFAULTZONE:http://localhost:8761/eureka/}

# Routes
spring.cloud.gateway.discovery.locator.enabled=true
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

# Explicit routes for cleaner URLs
spring.cloud.gateway.routes[0].id=user-service
spring.cloud.gateway.routes[0].uri=lb://user-service
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/v1/users/**, /api/v1/auth/**, /api/v1/roles/**, /api/v1/profiles/**, /v3/api-docs/user-service

spring.cloud.gateway.routes[1].id=content-service
spring.cloud.gateway.routes[1].uri=lb://content-service
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/v1/contents/**, /api/v1/playlists/**, /api/v1/categories/**, /graphql/**, /v3/api-docs/content-service

spring.cloud.gateway.routes[2].id=interaction-service
spring.cloud.gateway.routes[2].uri=lb://interaction-service
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/v1/comments/**, /api/v1/reactions/**, /api/v1/scores/**, /api/v1/history/**, /api/v1/subscriptions/**, /v3/api-docs/interaction-service
